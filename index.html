<!-- Add Syntax Highlighting -- migrate from GH pages? -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBMS Docs</title>
</head>
<body>

<h1 style="text-align: center;">DBMS</h1>
<h2 style="text-align: center;">A Database Management System in C</h2>

<h2>Synopsis</h2>
<a>DBMS is a relational database using heapfiles to store rows.</a><br>
<a>Current development work is focused on table support.</a><br>
<!-- <br> -->

<h2>Table of Contents</h2>
<ul>
    <li><a href="#ftdev">Feature Development</a></li>
    <li><a href="#doc">Documentation</a>
        <ul>
            <li><a href="#page">page.c</a>
                <ul>
                    <li><a href="#pgstrct">Structs</a></li>
                    <li><a href="#pgfnc">Functions</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul>


<h2 id="ftdev">Feature Development</h2>
<ul>
    <li>Tables with rows linked to pages</li>
    <li>SQL parser (development stalled because it's C)</li>
</ul>


<h2 id="doc">Documentation</h2>
<h3 id="page">page.c</h3>
<h4 id="pgstrct">Structs</h4>
<code><pre>
struct page_header{
    int tupct;              //tuple count
    float ver;              //version number
    int nfreedat;           //next free data location
    int nfreetup;           //next free tuple location
} typedef phead
</pre></code><br>
<code><pre>
struct tuple_header{
    unsigned char size;     //size of tuple in bytes
    short loc;              //tuple location (as offset)
} typedef thead;
</pre></code>

<h4 id="pgfnc">Functions</h4>
<code><pre>int phead_null(phead p);                             //checks if a page header p is null</pre></code>
<code><pre>phead phead_ret(char *pname);                        //retrieves the page header from a page pname</pre></code>
<code><pre>int phead_wrt(char *pname, phead *p);                //writes the page header p to a page pname</pre></code>
<code><pre>int page_init(char *pname);                          //initializes a page pname</pre></code>
<code><pre>int tuple_add(char *pname, char *fmt, void **arg);   //adds tuple arg with format fmt to page pname</pre></code>
<code><pre>int tuple_decode(char *pname, int t);                //decodes tuple t on page pname</pre></code>
<code><pre>int tuple_remove(char *pname, int n);                //removes tuple n on page pname</pre></code>

</body>
</html>

<!-- 
https://stackoverflow.com/questions/51421942/why-are-there-empty-address-spaces-between-data-sections-in-memory-x86-nasm

https://stackoverflow.com/questions/11770451/what-is-the-meaning-of-attribute-packed-aligned4

https://stackoverflow.com/questions/5473189/what-is-a-packed-structure-in-c

Blog post: struct padding, packing, and saved space ~~> also good introduction to dbms 
-->
